schema: '2.0'
stages:
  embeddings:
    cmd: python -m src.embeddings
    deps:
    - path: data/processed/exclude.txt
      hash: md5
      md5: ccec363cd1dfd0c59fa5d68bbf47565a
      size: 462
    - path: data/processed/places.parquet
      hash: md5
      md5: 05329ce3bd2485b5bd60eecafeab8ace
      size: 399809368
    - path: src/common/utils.py
      hash: md5
      md5: 208810e2392677b6860826b6b548166d
      size: 2335
    - path: src/embeddings.py
      hash: md5
      md5: c67202d744b140ea6a34116fe759f248
      size: 1423
    outs:
    - path: data/processed/region_embeddings.parquet
      hash: md5
      md5: c0ebfd68b716fc76e7627e4ca56b6c89
      size: 35462
  preprocesing:
    cmd: python -m src.preprocessing
    deps:
    - path: /home/cjber/data/en_regions.gpkg
      md5: 22714807a2048d80f256cd19977bdcb4
      size: 23420928
    - path: /home/cjber/data/places-2023_04_11.parquet
      md5: bcb63ac9ff9597b327430e2b0188333e
      size: 363137511
    - path: /home/cjber/data/places_full-2023_04_11.parquet
      md5: f495c36d310ffb50914c43fce98160b8
      size: 393266925
    - path: /home/cjber/data/scot_bdry.gpkg
      md5: 9c16518630c809fe1ade133e415c454d
      size: 3694592
    - path: /home/cjber/data/wales_bdry.gpkg
      md5: 6de86ba2aafbfc933f442075bb4afdfb
      size: 5984256
    - path: src/preprocessing.py
      md5: 1bd17b5fcebabbebf10fa55c277079d5
      size: 3845
    outs:
    - path: data/processed/place_regions.parquet
      md5: 1151203e3f5089149bca75e2c0c4aab5
      size: 183877946
    - path: data/processed/places.parquet
      md5: cd4f0610ba3e0e18adf6e92fa8823abf
      size: 227356613
  zero-shot:
    cmd: python -m src.zero-shot
    deps:
    - path: data/processed/places.parquet
      md5: cd4f0610ba3e0e18adf6e92fa8823abf
      size: 227356613
    - path: src/zero-shot.py
      md5: cb0368fc748597e17c686ba8474d917b
      size: 1649
    outs:
    - path: data/processed/places-zero-shot.parquet
      md5: f529a3688154967a1f0a93434ceb9357
      size: 4383041
  zero_shot:
    cmd: python -m src.zero_shot
    deps:
    - path: data/processed/exclude.txt
      hash: md5
      md5: ccec363cd1dfd0c59fa5d68bbf47565a
      size: 462
    - path: data/processed/places.parquet
      hash: md5
      md5: e70ae6ce5711f8a1d7fc0ab9293c3d26
      size: 400063838
    - path: src/common/utils.py
      hash: md5
      md5: 208810e2392677b6860826b6b548166d
      size: 2335
    - path: src/zero_shot.py
      hash: md5
      md5: 069fb8bf521977f1deca420064ccb8b7
      size: 1132
    outs:
    - path: data/processed/places_zero_shot.parquet
      hash: md5
      md5: 9c8c68d8da5e42f73b644e6713d0d62a
      size: 325155239
  preprocessing:
    cmd: python -m src.preprocessing
    deps:
    - path: /home/cjber/data/en_regions.parquet
      hash: md5
      md5: ecb827dcf9cb5ead5def9ba75652a6d2
      size: 439367
    - path: /home/cjber/data/places-2023_04_11.parquet
      hash: md5
      md5: bcb63ac9ff9597b327430e2b0188333e
      size: 363137511
    - path: /home/cjber/data/places_full-2023_04_11.parquet
      hash: md5
      md5: f495c36d310ffb50914c43fce98160b8
      size: 393266925
    - path: data/processed/exclude.txt
      hash: md5
      md5: ccec363cd1dfd0c59fa5d68bbf47565a
      size: 462
    - path: src/common/utils.py
      hash: md5
      md5: 208810e2392677b6860826b6b548166d
      size: 2335
    - path: src/preprocessing.py
      hash: md5
      md5: 595285ed3ac33178d1dd067010861c23
      size: 2988
    outs:
    - path: data/processed/place_regions.parquet
      hash: md5
      md5: 5d44d2f3d924b6f4de96b0b2c5922810
      size: 185541482
    - path: data/processed/places.parquet
      hash: md5
      md5: 05329ce3bd2485b5bd60eecafeab8ace
      size: 399809368
  paper:
    cmd: quarto render paper/main.qmd --execute-dir=$PWD
    deps:
    - path: data/processed
      hash: md5
      md5: 801c63d1d5cbf77a4ceec4a155531cf4.dir
      size: 5472372427
      nfiles: 10
    - path: paper/figures
      hash: md5
      md5: 3728cd7e51fa62f446deea835816336b.dir
      size: 71450
      nfiles: 14
    - path: paper/main.qmd
      hash: md5
      md5: 7490778233925d0ecddf112cfae1b7c1
      size: 39894
    outs:
    - path: paper/main.pdf
      hash: md5
      md5: b48a5a5d1f055b26fc413741ef845576
      size: 4800021
