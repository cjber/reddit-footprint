schema: '2.0'
stages:
  embeddings:
    cmd: python -m src.embeddings
    deps:
    - path: data/processed/exclude.txt
      md5: ea2d45d4711d75afebaeebdd693908c2
      size: 453
    - path: data/processed/places.parquet
      md5: 4d912de8dff2c5cd18b760abd3640b76
      size: 132335775
    - path: src/common/utils.py
      md5: deeb05d42554f77118bed6e03e4bc5b1
      size: 964
    - path: src/embeddings.py
      md5: 454ff661a5059ae0265931c50f36e0f3
      size: 1169
    outs:
    - path: data/processed/region_embeddings.parquet
      md5: 8055ce8695fac9e3b0b073f5f23a48cc
      size: 35439
  preprocesing:
    cmd: python -m src.preprocessing
    deps:
    - path: /home/cjber/data/en_regions.gpkg
      md5: 22714807a2048d80f256cd19977bdcb4
      size: 23420928
    - path: /home/cjber/data/places-2023_04_11.parquet
      md5: bcb63ac9ff9597b327430e2b0188333e
      size: 363137511
    - path: /home/cjber/data/places_full-2023_04_11.parquet
      md5: f495c36d310ffb50914c43fce98160b8
      size: 393266925
    - path: /home/cjber/data/scot_bdry.gpkg
      md5: 9c16518630c809fe1ade133e415c454d
      size: 3694592
    - path: /home/cjber/data/wales_bdry.gpkg
      md5: 6de86ba2aafbfc933f442075bb4afdfb
      size: 5984256
    - path: src/preprocessing.py
      md5: 1bd17b5fcebabbebf10fa55c277079d5
      size: 3845
    outs:
    - path: data/processed/place_regions.parquet
      md5: 1151203e3f5089149bca75e2c0c4aab5
      size: 183877946
    - path: data/processed/places.parquet
      md5: cd4f0610ba3e0e18adf6e92fa8823abf
      size: 227356613
  zero-shot:
    cmd: python -m src.zero-shot
    deps:
    - path: data/processed/places.parquet
      md5: cd4f0610ba3e0e18adf6e92fa8823abf
      size: 227356613
    - path: src/zero-shot.py
      md5: cb0368fc748597e17c686ba8474d917b
      size: 1649
    outs:
    - path: data/processed/places-zero-shot.parquet
      md5: f529a3688154967a1f0a93434ceb9357
      size: 4383041
  zero_shot:
    cmd: python -m src.zero_shot
    deps:
    - path: data/processed/exclude.txt
      md5: ea2d45d4711d75afebaeebdd693908c2
      size: 453
    - path: data/processed/places.parquet
      md5: 4d912de8dff2c5cd18b760abd3640b76
      size: 132335775
    - path: src/common/utils.py
      md5: deeb05d42554f77118bed6e03e4bc5b1
      size: 964
    - path: src/zero_shot.py
      md5: e63bf35426df310506ae24b83506e68c
      size: 1613
    outs:
    - path: data/processed/places_zero_shot.parquet
      md5: fb335d5255f2c3dac34832028fca5188
      size: 138094451
  preprocessing:
    cmd: python -m src.preprocessing
    deps:
    - path: /home/cjber/data/places-2023_04_11.parquet
      md5: bcb63ac9ff9597b327430e2b0188333e
      size: 363137511
    - path: /home/cjber/data/places_full-2023_04_11.parquet
      md5: f495c36d310ffb50914c43fce98160b8
      size: 393266925
    - path: /home/cjber/data/scot_bdry.gpkg
      md5: 9c16518630c809fe1ade133e415c454d
      size: 3694592
    - path: /home/cjber/data/wales_bdry.gpkg
      md5: 6de86ba2aafbfc933f442075bb4afdfb
      size: 5984256
    - path: data/processed/exclude.txt
      md5: ea2d45d4711d75afebaeebdd693908c2
      size: 453
    - path: src/common/utils.py
      md5: deeb05d42554f77118bed6e03e4bc5b1
      size: 964
    - path: src/preprocessing.py
      md5: 25ca0d5b058dc63b9cd7993e7fb84589
      size: 3848
    outs:
    - path: data/processed/en_regions.parquet
      md5: ecb827dcf9cb5ead5def9ba75652a6d2
      size: 439367
    - path: data/processed/place_regions.parquet
      md5: 1151203e3f5089149bca75e2c0c4aab5
      size: 183877946
    - path: data/processed/places.parquet
      md5: 4d912de8dff2c5cd18b760abd3640b76
      size: 132335775
  paper:
    cmd: quarto render paper/main.qmd
    deps:
    - path: data/processed/places_zero_shot.parquet
      md5: fb335d5255f2c3dac34832028fca5188
      size: 138094451
    - path: data/processed/region_embeddings.parquet
      md5: 8055ce8695fac9e3b0b073f5f23a48cc
      size: 35439
    - path: paper/figures
      md5: 4f81d5927e09c18b9de8a833d1db4c79.dir
      size: 4502307
      nfiles: 20
    - path: paper/main.qmd
      md5: 9af7d55d7e4e2f7712c38dd27742296a
      size: 23800
    outs:
    - path: paper/main.pdf
      md5: 988cccba52e7b0d153c6898bff266ed2
      size: 4186032
